<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Course Resource Library</title>
        <link rel="stylesheet" href="fileUpload.css">
        <script>
            function previewFile() {
                var preview = document.querySelector('iframe');
                var file    = document.querySelector('input[type=file]').files[0];
                var reader  = new FileReader();

                reader.addEventListener("load", function () {
                         preview.src = reader.result;
                }, false);

                if (file) {
                       reader.readAsDataURL(file);
                }
            }
            function checkLoadStatus(){
                var loadState = document.getElementById("uploadFileBtn");
                if (loadState.files.length == 0){
                    alert("Please Select a File to Upload");
                    return false;
                }
                else{
                    return true;
                }
                
            }
        </script>
    </head>
    <body class="mainBody">
        <h1>Please Select the File that you would like to Upload:</h1>
        <form class="iframeClass" onsubmit="return checkLoadStatus()" action="fileUploadSuccess.html">
            <input type="file" id="uploadFileBtn" onchange="previewFile()">
            <p>File Preview:</p>
            <iframe src="" id="frame" width="100%" height="500px" title="Preview"></iframe>
            <input type="submit" id="submitBtn" value="submit">
        </form>
    </body>
</html>